<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Felderhoff Lab Intertek Markers</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- DataTables CSS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">

<style>
.list-group-item.active {
    background-color: #512888;
    border-color: #512888;
}
.list-group-item-action:hover {
    color: #fff;
    background-color: #512888;
    border-color: #512888;
}
.btn-primary {
    background-color: #512888;
    border-color: #512888;
}
.btn-primary:hover, .btn-primary:focus {
    background-color: #3e216f;
    border-color: #3e216f;
}
a {
    color: #512888;
}
a:hover {
    color: #3e216f;
    text-decoration: underline;
}
h1, h2, h3, h4 {
    color: #512888;
}
div.dataTables_wrapper div.dataTables_filter input {
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 4px;
}
table.dataTable thead select {
    display: block;
    width: 100%;
    padding: 2px;
    font-size: 0.875rem;
    background-color: #fff;
    color: #000;
}
</style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #512888;">
  <div class="container">
    <a class="navbar-brand" href="index.html">Felderhoff Sorghum Lab</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link active" href="resources.html">Research</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
      </ul>
    </div>
  </div>
  <form class="d-flex ms-3">
   <input id="searchBox" class="form-control me-2" type="search" placeholder="Search this site…" aria-label="Search">
  </form>
</nav>

<div class="container my-3">
  <ul id="searchResults"></ul>
</div>

<div class="container-fluid p-0">
  <img src="Soghum-Field.jpg" alt="Sorghum Field" class="img-fluid w-100">
</div>

<div class="container my-4">
  <div class="row">
    <div class="col-md-3 mb-3">
      <div class="list-group">
        <a href="#" class="list-group-item list-group-item-action active">Project Topics</a>
        <a href="varieties.html" class="list-group-item list-group-item-action">Link 1</a>
        <a href="planting.html" class="list-group-item list-group-item-action">Link 2</a>
        <a href="diseases.html" class="list-group-item list-group-item-action">Team Members</a>
        <a href="harvesting.html" class="list-group-item list-group-item-action">Lab Intertek Markers</a>
      </div>
    </div>
    <div class="col-md-9">
      <h1>Lab Intertek Markers</h1>
      <p>Best practices for harvesting sorghum to ensure quality and yield.</p>

      <div class="table-responsive">
        <table id="csvTable" class="table table-striped table-bordered w-100"></table>
      </div>
    </div>
  </div>
</div>

<footer style="background-color: #512888;" class="text-white text-center py-3">
  &copy; 2025 Felderhoff Sorghum Lab. Powered by EmroTech. All Rights Reserved.
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>

<script>
$(document).ready(function() {
    $.ajax({
        url: 'https://corsproxy.io/?https://docs.google.com/spreadsheets/d/e/2PACX-1vTUQTjArcnYl6cCmCoimL5AI1HrNez2tMvJEGBoAPNYJPFMTdxQwbEWit5iscTMeoHKI3Y9SZjb8uMX/pub?gid=0&single=true&output=csv',
        dataType: 'text',
    }).done(function(data) {
        const rows = data.trim().split('\n').map(r => r.split(','));
        const headers = rows.shift();

        $('#csvTable').DataTable({
            data: rows,
            columns: headers.map(h => ({ title: h })),
            responsive: true,
            scrollX: true,
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ],
            initComplete: function () {
                this.api().columns().every(function () {
                    const column = this;
                    const select = $('<select><option value="">All</option></select>')
                        .appendTo($(column.header()).empty())
                        .on('change', function () {
                            const val = $.fn.dataTable.util.escapeRegex($(this).val());
                            column.search(val ? '^' + val + '$' : '', true, false).draw();
                        });
                    column.data().unique().sort().each(function (d) {
                        select.append('<option value="' + d + '">' + d + '</option>')
                    });
                });
            }
        });
    });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
<script>
const pages = [
  { title: "Home", url: "index.html", content: "Welcome to the Sorghum Page." },
  { title: "About", url: "about.html", content: "About Sorghum and its importance…" },
  { title: "Resources", url: "resources.html", content: "Guides, research papers…" },
  { title: "Contact", url: "contact.html", content: "Contact us…" },
  { title: "Varieties", url: "varieties.html", content: "Different sorghum varieties…" },
  { title: "Planting", url: "planting.html", content: "Guidelines for planting…" },
  { title: "Diseases", url: "diseases.html", content: "Common diseases…" },
  { title: "Harvesting", url: "harvesting.html", content: "Best practices for harvesting…" }
];

const fuse = new Fuse(pages, { keys: ['title', 'content'], threshold: 0.4 });

document.getElementById('searchBox').addEventListener('input', e => {
  const results = fuse.search(e.target.value);
  const resultsList = document.getElementById('searchResults');
  resultsList.innerHTML = '';
  results.forEach(result => {
    const li = document.createElement('li');
    li.innerHTML = `<a href="${result.item.url}">${result.item.title}</a>`;
    resultsList.appendChild(li);
  });
});
</script>

</body>
</html>
